<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - Task & Study Planner</title>
    <script src="../main.js/script.js"></script>

    <link rel="stylesheet" href="../main.css/styles.css">
    <!-- Link to Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="light-mode">
    <!-- Header Section -->
    <header>
        <h1>Welcome to Task & Study Planner</h1>
        <h2 id="usernameDisplay">Hello, [Username]!</h2> <!-- Username will be dynamically inserted -->
       <!-- Top-right corner profile picture and icons -->
       <div class="top-right-icons">
        <div class="profile-container">
            <img src="path_to_profile_picture.jpg" alt="Profile Picture" id="profilePicture" class="profile-picture" onclick="toggleProfileOptions()">
            <!-- Profile Dropdown -->
            <div id="profileDropdown" class="dropdown-content">
                <a href="profile.html">View Profile</a>
                <a href="logout.html">Log Out</a>
            </div>
        </div>
            <!-- Icons container on the top-right corner -->
             
            <<div class="icon-bar">
                <!-- Settings Icon -->
                <i class="fa-solid fa-gear" id="settingsIcon" onclick="openSettings()"></i>
            
                <!-- Dark/Light Mode Icon -->
                <i class="fa-solid fa-moon" id="modeIcon" onclick="toggleMode()"></i>
            
                <!-- Menu Icon -->
                <i class="fa-solid fa-bars" id="menuIcon" onclick="toggleMenu()"></i>
            </div>
            
            <!-- Settings Modal -->
            <div id="settingsModal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeSettings()">&times;</span>
                    <h2>Settings</h2>
                    <label for="notificationToggle">Enable Notifications:</label>
                    <input type="checkbox" id="notificationToggle" checked>
                    <br>
                    <label for="languageSelect">Language:</label>
                    <select id="languageSelect">
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                    </select>
                    <br>
                    <button onclick="saveSettings()">Save Settings</button>
                </div>
            </div>
            
            <!-- Menu Sidebar -->
            <div id="menuSidebar" class="sidebar">
                <a href="profile.html">Profile</a>
                <a href="tasks.html">Tasks</a>
                <a href="settings.html">Settings</a>
                <a href="#" onclick="logout()">Logout</a>
            </div>
            
        </div>
    </header>

    <!-- Main Content -->
    <div class="welcome-container">
        <p>Get started by setting up your profile and managing your tasks to boost productivity!</p>
        
        <!-- Navigation Options -->
        <div class="button-container">
            <a href="profile.html" class="nav-button">Set Up Profile</a>
            <a href="tasks.html" class="nav-button">Manage Tasks</a>
            <a href="achievements.html" class="nav-button">View Achievements</a>
        </div>
    </div>

    <!-- Footer Section -->
    <footer>
        <p>&copy; 2024 Task & Study Planner. All rights reserved.</p>
    </footer>

    <script>
        // Toggle between light and dark mode
        function toggleMode() {
            const body = document.body;
            body.classList.toggle('light-mode');
            body.classList.toggle('dark-mode');
            updateIcon();  // Change the icon based on mode
        }

        // Update mode icon
        function updateIcon() {
            const modeIcon = document.getElementById("modeIcon");
            if (document.body.classList.contains('dark-mode')) {
                modeIcon.classList.remove('fa-moon');
                modeIcon.classList.add('fa-sun');
            } else {
                modeIcon.classList.remove('fa-sun');
                modeIcon.classList.add('fa-moon');
            }
        }

        // Display username dynamically
        const username = localStorage.getItem('username');
        if (username) {
            document.getElementById("usernameDisplay").innerText = `Hello, ${username}!`;
        } else {
            document.getElementById("usernameDisplay").innerText = "Hello, Guest!";
        }

        // Show profile options when profile picture is clicked
        function toggleProfileOptions() {
            const dropdown = document.getElementById("profileDropdown");
            dropdown.classList.toggle("show");
        }

        // Close dropdown if clicked outside
        window.onclick = function(event) {
            if (!event.target.matches('#profilePicture')) {
                const dropdowns = document.getElementsByClassName("dropdown-content");
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        };
    </script>
    <!-- Link to css-->
    <link rel="stylesheet" href="styles.css">
    <!--link to JavaScript -->
    <script src="script.js"></script>
    <script src="server.js"></script>

</body>
</html>
